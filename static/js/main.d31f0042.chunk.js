(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{57:function(t,e,n){},58:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n(9),o=n.n(a),u=n(5),i=n(10),s=n(11),b=n(13),j=n(12),l=n(7),h=n(8),d=n.n(h),f=n(2),O=Object(f.b)("contacts/addRequest"),m=Object(f.b)("contacts/addSuccess"),p=Object(f.b)("contacts/addError"),v=Object(f.b)("contacts/fetchRequest"),x=Object(f.b)("contacts/fetchSuccess"),C=Object(f.b)("contacts/fetchError"),g=Object(f.b)("contacts/removeRequest"),y=Object(f.b)("contacts/removeSuccess"),k=Object(f.b)("contacts/removeError"),F=Object(f.b)("phonebook/filter");d.a.defaults.baseURL="http://localhost:2000";var S={addContact:function(t){var e=t.name,n=t.number;return function(t){t(O()),d.a.post("/contacts",{name:e,number:n}).then((function(e){var n=e.data;return t(m(n))})).catch((function(e){return t(p(e))}))}},fetchContacts:function(){return function(t){t(v()),d.a.get("/contacts").then((function(e){var n=e.data;return t(x(n))})).catch((function(e){return t(C(e))}))}},removeContact:function(t){return function(e){e(g()),d.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(k(t))}))}}},w=function(t,e){return t.find((function(t){return t.name===e}))},R=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,c=n.name,r=n.value;w(t.props.items,r)?alert("".concat(r," is already in contacts!!!")):t.setState(Object(l.a)({},c,r))},t.handleSubmit=function(e){e.preventDefault(),t.props.onAddContact(t.state)},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsxs)("label",{htmlFor:"name",children:["Name",Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:e,onChange:this.handleChange,name:"name"})]}),Object(c.jsxs)("label",{htmlFor:"number",children:["Number",Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:n,onChange:this.handleChange,name:"number"})]}),Object(c.jsx)("button",{type:"submit",className:"add_contact",children:"Add contact"})]})]})}}]),n}(r.Component),q={onAddContact:S.addContact},A=Object(u.b)((function(t){return t.contacts}),q)(R),N=n(27),B=n(6),E=function(t){return t.contacts.items},L=function(t){return t.contacts.filter},D={getVisibleContacts:Object(B.a)([L,E],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),getFilter:L,getContacts:E,getContactById:function(t,e){return E(t).find((function(t){return t.id===e}))}},I=Object(u.b)((function(t,e){return Object(N.a)({},D.getContactById(t,e.id))}),(function(t,e){return{onRemove:function(){return t(S.removeContact(e.id))}}}))((function(t){var e=t.name,n=t.number,r=t.onRemove;return Object(c.jsxs)("li",{children:[Object(c.jsxs)("span",{children:[e," ",n]}),Object(c.jsx)("button",{type:"button",className:"deleteBtn",onClick:r,children:"x"})]})})),J=Object(u.b)((function(t){return{contacts:D.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return e.length>0?Object(c.jsx)("ul",{children:e.map((function(t){var e=t.id;return Object(c.jsx)(I,{id:e},e)}))}):null})),V={onChangeFilter:F},M=Object(u.b)((function(t){return{contacts:t.contacts.items,value:D.getFilter(t)}}),V)((function(t){var e=t.contacts,n=t.value,r=t.onChangeFilter;return e.length>0?Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:"Find name"}),Object(c.jsx)("input",{type:"text",value:n,onChange:function(t){return r(t.target.value)}})]}):null}));var P,U=function(t){var e=t.children;return Object(c.jsx)("section",{children:e})},_=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(c.jsxs)(U,{children:[Object(c.jsx)(A,{}),Object(c.jsx)("h2",{children:"Contact"}),Object(c.jsx)(M,{}),Object(c.jsx)(J,{})]})}}]),n}(r.Component),z={onFetchContacts:S.fetchContacts},G=Object(u.b)(null,z)(_),H=n(28),K=n(4),Q=Object(f.c)([],(P={},Object(l.a)(P,x,(function(t,e){return e.payload})),Object(l.a)(P,m,(function(t,e){var n=e.payload;return[].concat(Object(H.a)(t),[n])})),Object(l.a)(P,y,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),P)),T=Object(f.c)("",Object(l.a)({},F,(function(t,e){return e.payload}))),W=Object(K.c)({items:Q,filter:T}),X=Object(f.a)({reducer:{contacts:W}});n(57);o.a.render(Object(c.jsx)(u.a,{store:X,children:Object(c.jsx)(G,{})}),document.querySelector("#root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.d31f0042.chunk.js.map